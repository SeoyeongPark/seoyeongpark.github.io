<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Seoyeong Park | Course scheduling with CSP</title>
  <meta property="og:title" content="Seoyeong Park | Course scheduling with CSP" />
  <meta property="og:image" content="https://seoyeongpark.github.io/img/profile-seoyeong.jpg" />
  <meta name="description" content="[Final project - Artificial Intelligence] An automated course scheduler for students based on dataset of course listing and individual profile">
  <meta property="og:description" content="[Final project - Artificial Intelligence] An automated course scheduler for students based on dataset of course listing and individual profile" />
  <meta name="author" content="Seoyeong Park">
  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LJ46KRF8XZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-LJ46KRF8XZ');
  </script>
  
  
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css"></noscript>
  
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:100,200,300,400,500,600,700,800,900&display=swap"></noscript>
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
      <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap"></noscript>
  <link rel="preload" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css"></noscript>
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/devicons/1.8.0/css/devicons.min.css"></noscript>
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css"></noscript>
  
  <link rel="preload" href="https://seoyeongpark.github.io/css/resume.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://seoyeongpark.github.io/css/resume.css"></noscript>
  <link rel="preload" href="https://seoyeongpark.github.io/css/tweaks.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://seoyeongpark.github.io/css/tweaks.css"></noscript>
  <link rel="preload" href="https://seoyeongpark.github.io/css/resume-override.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://seoyeongpark.github.io/css/resume-override.css"></noscript>
  <meta name="generator" content="Hugo 0.68.1" />
  
   
  
</head>
<body id="page-top">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
  <a class="navbar-brand js-scroll-trigger" href="#page-top">
    <span class="d-block d-lg-none">Seoyeong Park</span>
    <span class="d-none d-lg-block">
      <img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="/img/profile-seoyeong.jpg" alt="">
    </span>
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link js-scroll-trigger" href="/#about">About</a>
      </li>
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#education">Education</a>
          </li>
      
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#Research">Research</a>
          </li>
      
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#Publications">Publications</a>
          </li>
      
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#experience">Professional Experience</a>
          </li>
      
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#projects">Projects</a>
          </li>
      
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#skills">Skills</a>
          </li>
      
      
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="/#extra">Extracurricular</a>
          </li>
      
      
      
      
      
    </ul>
  </div>
</nav>

  <div class="container-fluid p-0">
    
<nav aria-label="breadcrumb">
  <ol  class="breadcrumb">
    





<li class="breadcrumb-item">
  <a href="https://seoyeongpark.github.io/">Home</a>
</li>


<li class="breadcrumb-item">
  <a href="https://seoyeongpark.github.io/projects/">Projects</a>
</li>


<li class="breadcrumb-item active">
  <a href="https://seoyeongpark.github.io/projects/courseschedulingcsp/">Course scheduling with CSP</a>
</li>

  </ol>
</nav>




<section class="resume-section p-3 p-lg-5 d-flex d-column">
  <div class="my-auto">
    <h2 class="mb-0"><span class="text-primary">Course scheduling with CSP</span></h2>
    <h3 id="project-design">Project design</h3>
<p>The objective of this project is to help students design and simulate their course schedules based on given the dataset of the course listing.<br>
The course scheduler is considered as a constraint satisfaction problem by checking schedule conflicts and requirements to generate a feasible schedule with minimizing unsatisfied preference. We have assumed that every student must enroll as a full-time student, and they have a maximum credit limit. Each course contains information about time, prerequisites, instructor, and more. Each student has a profile of courses they took, degree requirements, level of degree, and more.</p>
<h3 id="data-collection">Data collection</h3>
<p>We used CSC graduate and undergraduate course schedules for Fall 2022 taken from the ‘Class Search’ page provided by the university. The list of courses displays the course code, title, prerequisites or corequisites, available slots, day and time, section number of each section, instructor, and some other minor information.</p>
<h3 id="problem-formulating">Problem formulating</h3>
<p>We formulated our problem in 4 main factors: Variable, Domains, Goal and Constraints.<br>
<strong>Variables</strong>: All possible courses based on a student profile<br>
<strong>Domains</strong>: “Taken” or “Not taken”<br>
Initially, we checked some ways to set domains as courses and variables as “Day” or “Time”. But it is too complicated to assign values in this case. If  the variables are regarded as “Day”,  there are many cases to assign two or more values in one variable(e.g. Take two or more courses in the same day). Also, if the variables are “Time”, It is hard to handle it as “Time” is a continuous variable. Thus, we select the variables as a course and set the strategy to reduce the variables if the domain of a specific variable is “Not taken”.<br>
<strong>Goal</strong>: In the courses’ combinations which are satisfying all hard constraints, finding optimal solutions which can satisfy as many soft constraints as possible.<br>
<strong>Constraints</strong>: The constraints are divided into two parts: Hard constraint and Soft constraint. A hard constraint is the one that must be satisfied at all times. Soft constraints are good to satisfy as many as possible for optimal solutions. As our problem is in a real-world environment, there would be more constraints. However, we consider the constraints which can be derived from our dataset. It could be reasonable because we can considerably reduce the possible class schedule options following below constraints.</p>
<h5 id="hard-constraints">Hard constraints</h5>
<p>The optimal solution must meet the following constraints.</p>
<ul>
<li>Course availability
<ul>
<li>Course cannot be enrolled if it is full.</li>
</ul>
</li>
<li>Previous taken courses
<ul>
<li>Students cannot take courses which they took in the previous semester.</li>
</ul>
</li>
<li>Degree/Track/Affiliation of students
<ul>
<li>Students must register courses that fit their enrolled degree program. For example, master’s students cannot enroll in undergraduate low level classes, there are limitations to take courses provided from other departments.</li>
<li>Upper level students cannot take lower level courses, and vice versa.</li>
</ul>
</li>
<li>Time conflicts
<ul>
<li>It should prevent registering more than one course happening simultaneously</li>
</ul>
</li>
<li>Credit limitation
<ul>
<li>Based on the minimum / maximum credits designated by CSC department, 
the summation of credits of courses taken by students should be in between minimum and maximum credits.</li>
</ul>
</li>
<li>Laboratory attendance
<ul>
<li>Students must take one of the laboratory courses if the courses require it.</li>
</ul>
</li>
<li>Taking same courses
<ul>
<li>It is not possible to take two or more courses which are in the same course code.</li>
</ul>
</li>
</ul>
<p>Courses 216 and 217 are the only exception that the lecture and laboratory sessions are separated. We assumed that 217 is the part of 216 and changed course number from 217 to 216 because students must take both courses to meet the course requirements.</p>
<h5 id="soft-constraints">Soft constraints</h5>
<p>Soft constraints are not mandatory to meet, therefore, we calculated weight for each soft constraint. However, solutions generated after applying hard constraints are too many, so we decided to give a huge penalty if it does not meet soft constraints.</p>
<ul>
<li>Each degree level has minimum and maximum course numbers (assumption).
<ul>
<li>Students with high-level standing cannot take lower level courses.</li>
<li>Freshman/Sophomore: 100~300</li>
<li>Junior: 200~500</li>
<li>Senior: 300~500</li>
<li>Masters/Doctorate: 500~900</li>
</ul>
</li>
<li>Course preference (count_matching)
<ul>
<li>Students may have a list of courses that they want to take or not. The intersection between a given list and the generated solution contains at least 1 common course, we added the number of common courses to the weight.</li>
<li>Each course preference is range -1(don’t want to take) to n(the number of courses that they want to take)</li>
<li>Since the suggested output is large enough, we hugely deducted weight to reduce the number of optimal solutions if preference is a negative value. Otherwise, we added a given preference level of each course to the weight.</li>
</ul>
</li>
<li>Students must enroll at least the minimum credit hours, however, they can enroll more courses as long as it does not exceed maximum credit hours.
<ul>
<li>The number of courses in the suggested solutions can vary depending on its weight.</li>
</ul>
</li>
<li>Students can enroll at most 3 credits for research courses.
<ul>
<li>This is not mandatory.</li>
</ul>
</li>
<li>A student may want to enroll courses happening only on a particular day(s) (day_weight).
<ul>
<li>This simple preference can be violated, courses scheduled on Friday can be enrolled depending on the situation.</li>
<li>Preferences of each day(Monday to Friday) are given in the student’s profile as either 0 or 1 (e.g. M_0, T_1, W_1, TH_1, F_0). 1 means that a student is willing to take a course on a particular day, 0 means that a student does not prefer to have a class on a particular day.</li>
<li>Since the suggested output is large enough, we hugely deducted weight to reduce the number of optimal solutions if a given value is a negative value.</li>
</ul>
</li>
</ul>
<h5 id="weight-calculation">Weight calculation</h5>
<p>Weight functions are divided into two parts, which are ‘count_matching’ and ‘day_weight’. We think enrolling courses that students want should be more weighted than their day preferences. Therefore, the final weight is calculated with the following formula:<br>
<em>final_weight = 0.6*count_matching + 0.4*day_weight</em></p>
<h3 id="approach">Approach</h3>
<h5 id="workflow-overview">Workflow overview</h5>
<ol>
<li>Data preprocessing</li>
<li>Generating list of possible courses based on student profile and unary hard constraints</li>
<li>Searching solutions which satisfy all other binary/high-order hard constraints</li>
<li>Finding optimal solution which satisfy maximum number of satisfied soft constraints</li>
</ol>
<h5 id="generating-list-of-possible-courses">Generating list of possible courses</h5>
<p>For generating possible courses to each student, we formulate a student profile. Student profile contains information such as degree, min/max credit, previous taken courses, courses which they prefer to take. With this profile and unary hard constraints (Course availability, Previous taken courses, Degree of students), we filtered possible courses which can fit a specific student. For example, If a degree of student is “undergraduate” and previous taken courses of the student is “111, 113, 216, 217”, the output is a list of courses without “Courses with no seat” and “Graduate level courses” and “course code 111, 113, 216, 217”.</p>
<h5 id="searching-solutions-satisfying-other-hard-constraints">Searching solutions satisfying other hard constraints</h5>
<p>The basic algorithm is similar to the backtracking algorithm. For improving the efficiency of Backtracking search, we use Forwardchecking. In the dataset, there are courses requiring participation in the laboratory(almost in undergraduate courses). For this, in the Backtracking search, we divided the cases in two parts: the course with lecture and laboratory or the course with only lecture. In the former case, one of the laboratory courses is also added in “assignment” and Forwardchecking is executed given that “assignment”.</p>
<p>In the procedure, there are two points to be explained. First of all, in Forwardchecking, we concentrated on reducing variables not values. As we know, Forwardchecking is a methodology which uses constraints to reduce the options of values per each variable. In problem formulation, we set the domain as “Taken” or “Not taken”. If the variable of value is “Not taken” given a specific “assignment”, we no longer need to consider this variable until the result is “failure”. Thus, we just remove the variable in that  “assignment”. Second, if a specific variable is searched, the variable is no longer considered in the same depth search.  This is related to the characteristics that backtracking search is DFS. For example, let’s assume that possible courses given a specific assignment are [A, B, C]. If lecture “A” is searched, the algorithm will find all possible course lists satisfying hard constraints. Then at the time when lecture “B” is searched, there would be redundancy if lecture “A” is also contained in the possible courses as we already searched when lecture “A” is taken. By applying this strategy, we reduced the time taken to find all possible cases satisfying hard constraints.</p>
<h5 id="finding-optimal-solution-which-satisfy-maximum-number-of-satisfied-soft-constraints">Finding optimal solution which satisfy maximum number of satisfied soft constraints</h5>
<p>Out of solutions that are generated after checking hard constraints and weighting soft constraints, we filtered top 5 solutions out of entire outputs ordered by weights in descent.</p>
<h3 id="results">Results</h3>
<table>
<thead>
<tr>
<th>Student profile</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="/img/csp/input.jpg" alt=""></td>
<td><img src="/img/csp/output.jpg" alt=""></td>
</tr>
<tr>
<td>↑ Student1’s profile</td>
<td>↑ 14 solutions of student1’s profile. Highlighted solutions are with top 5 weights. PDF files are generated for those solutions.</td>
</tr>
</tbody>
</table>
<h3 id="visualized-solution---example">Visualized solution - example</h3>
<p><img src="/img/csp/csp.png" alt=""></p>
<h3 id="limitations-and-conclusion">Limitations and conclusion</h3>
<p>Constraint satisfaction problem and its algorithms are applied in many real-world applications. We used a forward checking algorithm and backtracking to filter out hard constraints, however, its efficiency is relatively low when the maximum credit is getting larger. While working on this project, we got the course information and availability from the school website. However, due to our algorithm, our scraped data does not reflect real-time status. Courses listed in our solution may be already closed in reality. The last updated version is as of April 14, 2022. 
Also, some assumptions(No consideration of requisites and location of courses) we initially made are needed to be handled. For example, we initially tried to take care of the course&rsquo;s prerequisites and corequisites. However, we decided to ignore these constraints because some prerequisites are not limited to computer science courses and the list of the courses taken in the student’s profile does not contain all courses offered outside computer science while some courses can actually require students to meet this requirements. In our future work, we take these assumptions into constraints to make a more optimal and practical course schedule.</p>
<h3 id="reference">Reference</h3>
<p>[1] Jwodder. “Jwodder/Schedule: Weekly Schedule Typesetter.” GitHub, github.com/jwodder/schedule.</p>
<h3 id="source-code">Source code</h3>
<p><a href="https://github.com/spark1217/AI_finalproject">https://github.com/spark1217/AI_finalproject</a></p>

    
    <ul class="tags">
    
      <li><a class="tag" href="/tags/ai">AI</a></li>
    
      <li><a class="tag" href="/tags/csp">CSP</a></li>
    
      <li><a class="tag" href="/tags/course-scheduling">Course scheduling</a></li>
    
      <li><a class="tag" href="/tags/python">Python</a></li>
    
      <li><a class="tag" href="/tags/course-project">Course Project</a></li>
    
</ul>

  </div>
</section>


    <span style="color: #999999; font-size: 60%;">Hugo Theme. Copyright (c) 2018 Eddie A. Webb </span>
    
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>

  
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
  
  <script async src="/js/resume.js"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '');
  </script>
  

  
</body>
</html>
